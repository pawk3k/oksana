{"ast":null,"code":"'use strict';\n\nvar _defineProperty = require(\"/home/kraven/Videos/oksana/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"/home/kraven/Videos/oksana/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/kraven/Videos/oksana/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/home/kraven/Videos/oksana/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/kraven/Videos/oksana/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/home/kraven/Videos/oksana/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/esm/extends'));\n\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/esm/objectWithoutPropertiesLoose'));\n\nvar React = _interopDefault(require('react'));\n\nvar renderprops = require('react-spring/renderprops');\n\nvar El = renderprops.Globals.defaultElement;\nvar AnimatedDiv = renderprops.animated(El);\n\nvar _React$createContext = React.createContext(null),\n    Provider = _React$createContext.Provider,\n    Consumer = _React$createContext.Consumer;\n\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\n\nvar START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nvar START_TRANSLATE = 'translate(0px,0px)';\n\nvar ParallaxLayer =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ParallaxLayer, _React$PureComponent);\n\n  function ParallaxLayer() {\n    _classCallCheck(this, ParallaxLayer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ParallaxLayer).apply(this, arguments));\n  }\n\n  _createClass(ParallaxLayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var parent = this.parent;\n\n      if (parent) {\n        parent.layers = parent.layers.concat(this);\n        parent.update();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this = this;\n\n      var parent = this.parent;\n\n      if (parent) {\n        parent.layers = parent.layers.filter(function (layer) {\n          return layer !== _this;\n        });\n        parent.update();\n      }\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(height, scrollTop, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var config = this.parent.props.config;\n      var targetScroll = Math.floor(this.props.offset) * height;\n      var offset = height * this.props.offset + targetScroll * this.props.speed;\n      var to = parseFloat(-(scrollTop * this.props.speed) + offset);\n      this.controller.update({\n        translate: to,\n        config: config,\n        immediate: immediate\n      });\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var config = this.parent.props.config;\n      var to = parseFloat(height * this.props.factor);\n      this.controller.update({\n        space: to,\n        config: config,\n        immediate: immediate\n      });\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = this.props;\n      var parent = this.parent;\n      var targetScroll = Math.floor(props.offset) * parent.space;\n      var offset = parent.space * props.offset + targetScroll * props.speed;\n      var to = parseFloat(-(parent.current * props.speed) + offset);\n      this.controller = new renderprops.Controller({\n        space: parent.space * props.factor,\n        translate: to\n      });\n    }\n  }, {\n    key: \"renderLayer\",\n    value: function renderLayer() {\n      var _extends2;\n\n      var _this$props = this.props,\n          style = _this$props.style,\n          children = _this$props.children,\n          offset = _this$props.offset,\n          speed = _this$props.speed,\n          factor = _this$props.factor,\n          className = _this$props.className,\n          props = _objectWithoutPropertiesLoose(_this$props, [\"style\", \"children\", \"offset\", \"speed\", \"factor\", \"className\"]);\n\n      var horizontal = this.parent.props.horizontal;\n      var translate3d = this.controller.interpolations.translate.interpolate(function (x) {\n        return horizontal ? \"translate3d(\".concat(x, \"px,0,0)\") : \"translate3d(0,\".concat(x, \"px,0)\");\n      });\n      return React.createElement(AnimatedDiv, _extends({}, props, {\n        className: className,\n        style: _extends((_extends2 = {\n          position: 'absolute',\n          backgroundSize: 'auto',\n          backgroundRepeat: 'no-repeat',\n          willChange: 'transform'\n        }, _defineProperty(_extends2, horizontal ? 'height' : 'width', '100%'), _defineProperty(_extends2, horizontal ? 'width' : 'height', this.controller.interpolations.space), _defineProperty(_extends2, \"WebkitTransform\", translate3d), _defineProperty(_extends2, \"MsTransform\", translate3d), _defineProperty(_extends2, \"transform\", translate3d), _extends2), style)\n      }), children);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Consumer, null, function (parent) {\n        if (parent && !_this2.parent) {\n          _this2.parent = parent;\n\n          _this2.initialize();\n        }\n\n        return _this2.renderLayer();\n      });\n    }\n  }]);\n\n  return ParallaxLayer;\n}(React.PureComponent);\n\nParallaxLayer.defaultProps = {\n  factor: 1,\n  offset: 0,\n  speed: 0\n};\n\nvar Parallax =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(Parallax, _React$PureComponent2);\n\n  // TODO keep until major release\n  function Parallax(props) {\n    var _this3;\n\n    _classCallCheck(this, Parallax);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Parallax).call(this));\n\n    _this3.moveItems = function () {\n      _this3.layers.forEach(function (layer) {\n        return layer.setPosition(_this3.space, _this3.current);\n      });\n\n      _this3.busy = false;\n    };\n\n    _this3.scrollerRaf = function () {\n      return renderprops.Globals.requestFrame(_this3.moveItems);\n    };\n\n    _this3.onScroll = function (event) {\n      var horizontal = _this3.props.horizontal;\n\n      if (!_this3.busy) {\n        _this3.busy = true;\n\n        _this3.scrollerRaf();\n\n        _this3.current = event.target[getScrollType(horizontal)];\n      }\n    };\n\n    _this3.update = function () {\n      var _this$props2 = _this3.props,\n          scrolling = _this$props2.scrolling,\n          horizontal = _this$props2.horizontal;\n      var scrollType = getScrollType(horizontal);\n      if (!_this3.container) return;\n      _this3.space = _this3.container[horizontal ? 'clientWidth' : 'clientHeight'];\n      if (scrolling) _this3.current = _this3.container[scrollType];else _this3.container[scrollType] = _this3.current = _this3.offset * _this3.space;\n      if (_this3.content) _this3.content.style[horizontal ? 'width' : 'height'] = \"\".concat(_this3.space * _this3.props.pages, \"px\");\n\n      _this3.layers.forEach(function (layer) {\n        layer.setHeight(_this3.space, true);\n        layer.setPosition(_this3.space, _this3.current, true);\n      });\n    };\n\n    _this3.updateRaf = function () {\n      renderprops.Globals.requestFrame(_this3.update); // Some browsers don't fire on maximize\n\n      setTimeout(_this3.update, 150);\n    };\n\n    _this3.scrollStop = function (event) {\n      return _this3.controller.stop();\n    };\n\n    _this3.state = {\n      ready: false\n    };\n    _this3.layers = [];\n    _this3.space = 0;\n    _this3.current = 0;\n    _this3.offset = 0;\n    _this3.busy = false;\n    _this3.controller = new renderprops.Controller({\n      scroll: 0\n    });\n    return _this3;\n  }\n\n  _createClass(Parallax, [{\n    key: \"scrollTo\",\n    value: function scrollTo(offset) {\n      var _this$props3 = this.props,\n          horizontal = _this$props3.horizontal,\n          config = _this$props3.config;\n      var scrollType = getScrollType(horizontal);\n      this.scrollStop();\n      this.offset = offset;\n      var target = this.container;\n      this.controller.update({\n        scroll: offset * this.space,\n        config: config,\n        onFrame: function onFrame(_ref) {\n          var scroll = _ref.scroll;\n          return target[scrollType] = scroll;\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('resize', this.updateRaf, false);\n      this.update();\n      this.setState({\n        ready: true\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateRaf, false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this,\n          _extends3;\n\n      var _this$props4 = this.props,\n          style = _this$props4.style,\n          innerStyle = _this$props4.innerStyle,\n          pages = _this$props4.pages,\n          id = _this$props4.id,\n          className = _this$props4.className,\n          scrolling = _this$props4.scrolling,\n          children = _this$props4.children,\n          horizontal = _this$props4.horizontal;\n      var overflow = scrolling ? 'scroll' : 'hidden';\n      return React.createElement(El, {\n        ref: function ref(node) {\n          return _this4.container = node;\n        },\n        onScroll: this.onScroll,\n        onWheel: scrolling ? this.scrollStop : null,\n        onTouchStart: scrolling ? this.scrollStop : null,\n        style: _extends({\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          overflow: overflow,\n          overflowY: horizontal ? 'hidden' : overflow,\n          overflowX: horizontal ? overflow : 'hidden',\n          WebkitOverflowScrolling: 'touch',\n          WebkitTransform: START_TRANSLATE,\n          MsTransform: START_TRANSLATE,\n          transform: START_TRANSLATE_3D\n        }, style),\n        id: id,\n        className: className\n      }, this.state.ready && React.createElement(El, {\n        ref: function ref(node) {\n          return _this4.content = node;\n        },\n        style: _extends((_extends3 = {\n          position: 'absolute'\n        }, _defineProperty(_extends3, horizontal ? 'height' : 'width', '100%'), _defineProperty(_extends3, \"WebkitTransform\", START_TRANSLATE), _defineProperty(_extends3, \"MsTransform\", START_TRANSLATE), _defineProperty(_extends3, \"transform\", START_TRANSLATE_3D), _defineProperty(_extends3, \"overflow\", 'hidden'), _defineProperty(_extends3, horizontal ? 'width' : 'height', this.space * pages), _extends3), innerStyle)\n      }, React.createElement(Provider, {\n        value: this\n      }, children)));\n    }\n  }]);\n\n  return Parallax;\n}(React.PureComponent);\n\nParallax.Layer = ParallaxLayer;\nParallax.defaultProps = {\n  config: renderprops.config.slow,\n  scrolling: true,\n  horizontal: false\n};\nexports.Parallax = Parallax;\nexports.ParallaxLayer = ParallaxLayer;","map":{"version":3,"sources":["/home/kraven/Videos/oksana/node_modules/react-spring/renderprops-addons.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","_extends","require","_objectWithoutPropertiesLoose","React","renderprops","El","Globals","defaultElement","AnimatedDiv","animated","_React$createContext","createContext","Provider","Consumer","getScrollType","horizontal","START_TRANSLATE_3D","START_TRANSLATE","ParallaxLayer","parent","layers","concat","update","filter","layer","height","scrollTop","immediate","config","props","targetScroll","Math","floor","offset","speed","to","parseFloat","controller","translate","factor","space","current","Controller","_this$props","style","children","className","translate3d","interpolations","interpolate","x","createElement","position","backgroundSize","backgroundRepeat","willChange","initialize","renderLayer","PureComponent","defaultProps","Parallax","moveItems","forEach","setPosition","busy","scrollerRaf","requestFrame","onScroll","event","target","_this$props2","scrolling","scrollType","container","content","pages","setHeight","updateRaf","setTimeout","scrollStop","stop","state","ready","scroll","_this$props3","onFrame","_ref","window","addEventListener","setState","removeEventListener","_this$props4","innerStyle","id","overflow","ref","node","onWheel","onTouchStart","width","overflowY","overflowX","WebkitOverflowScrolling","WebkitTransform","MsTransform","transform","Layer","slow"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/esm/extends'));\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/esm/objectWithoutPropertiesLoose'));\nvar React = _interopDefault(require('react'));\nvar renderprops = require('react-spring/renderprops');\n\nconst El = renderprops.Globals.defaultElement;\nconst AnimatedDiv = renderprops.animated(El);\n\nconst _React$createContext = React.createContext(null),\n      Provider = _React$createContext.Provider,\n      Consumer = _React$createContext.Consumer;\n\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\n\nconst START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nconst START_TRANSLATE = 'translate(0px,0px)';\nclass ParallaxLayer extends React.PureComponent {\n  componentDidMount() {\n    const parent = this.parent;\n\n    if (parent) {\n      parent.layers = parent.layers.concat(this);\n      parent.update();\n    }\n  }\n\n  componentWillUnmount() {\n    const parent = this.parent;\n\n    if (parent) {\n      parent.layers = parent.layers.filter(layer => layer !== this);\n      parent.update();\n    }\n  }\n\n  setPosition(height, scrollTop, immediate) {\n    if (immediate === void 0) {\n      immediate = false;\n    }\n\n    const config = this.parent.props.config;\n    const targetScroll = Math.floor(this.props.offset) * height;\n    const offset = height * this.props.offset + targetScroll * this.props.speed;\n    const to = parseFloat(-(scrollTop * this.props.speed) + offset);\n    this.controller.update({\n      translate: to,\n      config,\n      immediate\n    });\n  }\n\n  setHeight(height, immediate) {\n    if (immediate === void 0) {\n      immediate = false;\n    }\n\n    const config = this.parent.props.config;\n    const to = parseFloat(height * this.props.factor);\n    this.controller.update({\n      space: to,\n      config,\n      immediate\n    });\n  }\n\n  initialize() {\n    const props = this.props;\n    const parent = this.parent;\n    const targetScroll = Math.floor(props.offset) * parent.space;\n    const offset = parent.space * props.offset + targetScroll * props.speed;\n    const to = parseFloat(-(parent.current * props.speed) + offset);\n    this.controller = new renderprops.Controller({\n      space: parent.space * props.factor,\n      translate: to\n    });\n  }\n\n  renderLayer() {\n    const _this$props = this.props,\n          style = _this$props.style,\n          children = _this$props.children,\n          offset = _this$props.offset,\n          speed = _this$props.speed,\n          factor = _this$props.factor,\n          className = _this$props.className,\n          props = _objectWithoutPropertiesLoose(_this$props, [\"style\", \"children\", \"offset\", \"speed\", \"factor\", \"className\"]);\n\n    const horizontal = this.parent.props.horizontal;\n    const translate3d = this.controller.interpolations.translate.interpolate(x => horizontal ? `translate3d(${x}px,0,0)` : `translate3d(0,${x}px,0)`);\n    return React.createElement(AnimatedDiv, _extends({}, props, {\n      className: className,\n      style: _extends({\n        position: 'absolute',\n        backgroundSize: 'auto',\n        backgroundRepeat: 'no-repeat',\n        willChange: 'transform',\n        [horizontal ? 'height' : 'width']: '100%',\n        [horizontal ? 'width' : 'height']: this.controller.interpolations.space,\n        WebkitTransform: translate3d,\n        MsTransform: translate3d,\n        transform: translate3d\n      }, style)\n    }), children);\n  }\n\n  render() {\n    return React.createElement(Consumer, null, parent => {\n      if (parent && !this.parent) {\n        this.parent = parent;\n        this.initialize();\n      }\n\n      return this.renderLayer();\n    });\n  }\n\n}\nParallaxLayer.defaultProps = {\n  factor: 1,\n  offset: 0,\n  speed: 0\n};\nclass Parallax extends React.PureComponent {\n  // TODO keep until major release\n  constructor(props) {\n    super();\n\n    this.moveItems = () => {\n      this.layers.forEach(layer => layer.setPosition(this.space, this.current));\n      this.busy = false;\n    };\n\n    this.scrollerRaf = () => renderprops.Globals.requestFrame(this.moveItems);\n\n    this.onScroll = event => {\n      const horizontal = this.props.horizontal;\n\n      if (!this.busy) {\n        this.busy = true;\n        this.scrollerRaf();\n        this.current = event.target[getScrollType(horizontal)];\n      }\n    };\n\n    this.update = () => {\n      const _this$props2 = this.props,\n            scrolling = _this$props2.scrolling,\n            horizontal = _this$props2.horizontal;\n      const scrollType = getScrollType(horizontal);\n      if (!this.container) return;\n      this.space = this.container[horizontal ? 'clientWidth' : 'clientHeight'];\n      if (scrolling) this.current = this.container[scrollType];else this.container[scrollType] = this.current = this.offset * this.space;\n      if (this.content) this.content.style[horizontal ? 'width' : 'height'] = `${this.space * this.props.pages}px`;\n      this.layers.forEach(layer => {\n        layer.setHeight(this.space, true);\n        layer.setPosition(this.space, this.current, true);\n      });\n    };\n\n    this.updateRaf = () => {\n      renderprops.Globals.requestFrame(this.update); // Some browsers don't fire on maximize\n\n      setTimeout(this.update, 150);\n    };\n\n    this.scrollStop = event => this.controller.stop();\n\n    this.state = {\n      ready: false\n    };\n    this.layers = [];\n    this.space = 0;\n    this.current = 0;\n    this.offset = 0;\n    this.busy = false;\n    this.controller = new renderprops.Controller({\n      scroll: 0\n    });\n  }\n\n  scrollTo(offset) {\n    const _this$props3 = this.props,\n          horizontal = _this$props3.horizontal,\n          config = _this$props3.config;\n    const scrollType = getScrollType(horizontal);\n    this.scrollStop();\n    this.offset = offset;\n    const target = this.container;\n    this.controller.update({\n      scroll: offset * this.space,\n      config,\n      onFrame: (_ref) => {\n        let scroll = _ref.scroll;\n        return target[scrollType] = scroll;\n      }\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.updateRaf, false);\n    this.update();\n    this.setState({\n      ready: true\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateRaf, false);\n  }\n\n  componentDidUpdate() {\n    this.update();\n  }\n\n  render() {\n    const _this$props4 = this.props,\n          style = _this$props4.style,\n          innerStyle = _this$props4.innerStyle,\n          pages = _this$props4.pages,\n          id = _this$props4.id,\n          className = _this$props4.className,\n          scrolling = _this$props4.scrolling,\n          children = _this$props4.children,\n          horizontal = _this$props4.horizontal;\n    const overflow = scrolling ? 'scroll' : 'hidden';\n    return React.createElement(El, {\n      ref: node => this.container = node,\n      onScroll: this.onScroll,\n      onWheel: scrolling ? this.scrollStop : null,\n      onTouchStart: scrolling ? this.scrollStop : null,\n      style: _extends({\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        overflow,\n        overflowY: horizontal ? 'hidden' : overflow,\n        overflowX: horizontal ? overflow : 'hidden',\n        WebkitOverflowScrolling: 'touch',\n        WebkitTransform: START_TRANSLATE,\n        MsTransform: START_TRANSLATE,\n        transform: START_TRANSLATE_3D\n      }, style),\n      id: id,\n      className: className\n    }, this.state.ready && React.createElement(El, {\n      ref: node => this.content = node,\n      style: _extends({\n        position: 'absolute',\n        [horizontal ? 'height' : 'width']: '100%',\n        WebkitTransform: START_TRANSLATE,\n        MsTransform: START_TRANSLATE,\n        transform: START_TRANSLATE_3D,\n        overflow: 'hidden',\n        [horizontal ? 'width' : 'height']: this.space * pages\n      }, innerStyle)\n    }, React.createElement(Provider, {\n      value: this\n    }, children)));\n  }\n\n}\nParallax.Layer = ParallaxLayer;\nParallax.defaultProps = {\n  config: renderprops.config.slow,\n  scrolling: true,\n  horizontal: false\n};\n\nexports.Parallax = Parallax;\nexports.ParallaxLayer = ParallaxLayer;\n"]},"metadata":{},"sourceType":"script"}